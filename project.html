<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sketch2Story | Storyboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <a class="back-arrow" href="index.html" aria-label="Back to projects">&larr;</a>
    <header class="topbar">
      <div>
        <p class="eyebrow">Sketch2Story</p>
        <h1 id="projectTitle" contenteditable="true" aria-label="Edit project title">Storyboard</h1>
        <p class="lede">Add panels, draw directly inside them, and keep shots in order.</p>
      </div>
    </header>

    <div class="tab-bar" role="tablist" aria-label="Project sections">
      <button class="tab active" type="button" role="tab" aria-selected="true" data-tab="panels">Panels</button>
      <button class="tab" type="button" role="tab" aria-selected="false" data-tab="scenes">Scenes</button>
    </div>

    <div class="tab-panels">
      <div class="tab-panel active" data-tab-panel="panels" role="tabpanel">
        <section class="panel-controls">
          <form id="panelForm" class="panel-form">
            <div class="actions-row">
              <div class="actions">
                <button type="submit" class="primary">Add panel</button>
                <button type="button" class="secondary" id="uploadTrigger">Upload image</button>
                <input type="file" id="uploadInput" accept="image/*" hidden>
              </div>
              <div class="actions-right">
                <button type="button" class="secondary" id="settingsTrigger">Settings</button>
              </div>
            </div>
          </form>
        </section>

        <section class="timeline">
          <div class="timeline-head">
            <h2>Panels</h2>
          </div>
          <div id="panels" class="panel-list empty-state">
            <p class="empty-copy">No panels yet. Add one to start sketching.</p>
          </div>
        </section>
      </div>

      <div class="tab-panel" data-tab-panel="scenes" role="tabpanel" aria-hidden="true">
        <section class="panel-controls scene-controls">
          <div class="scene-bar">
            <button type="button" class="primary" id="sceneModalTrigger">Add scene</button>
          </div>
        </section>

        <section class="timeline">
          <div class="timeline-head">
            <h2>Scenes</h2>
          </div>
          <div id="scenesList" class="scene-list empty-state">
            <p class="empty-copy">No scenes yet. Add one to outline your story.</p>
          </div>
        </section>
      </div>
    </div>
  </div>

  <div class="modal" data-modal>
    <div class="modal__dialog">
      <h3>Convert to Image</h3>
      <p class="modal__lede">
        Your sketch defines the layout and composition of the shot, but it doesn't specify visual details such as character appearance, clothing, lighting, or setting. To generate an accurate storyboard panel, please add a few descriptive details below.
      </p>
      <label class="field">
        <span>Scene</span>
        <select id="convertSceneSelect" required>
          <option value="">No scene</option>
        </select>
      </label>
      <textarea class="modal__textarea" data-prompt-input placeholder="Describe characters, lighting, setting, mood, camera intent"></textarea>
      <div class="modal__actions">
        <button type="button" class="secondary" data-modal-cancel>Cancel</button>
        <button type="button" class="primary" data-modal-submit>Generate</button>
      </div>
    </div>
  </div>

  <div class="modal" data-settings-modal>
    <div class="modal__dialog">
      <h3>Settings</h3>
      <div class="settings-grid">
        <div>
          <p class="eyebrow">Panel aspect</p>
          <div class="aspect-toggle" role="group" aria-label="Panel aspect ratio">
            <label>
              <input type="radio" name="settingsAspect" value="16:9" checked>
              <span>16:9</span>
            </label>
            <label>
              <input type="radio" name="settingsAspect" value="9:16">
              <span>9:16</span>
            </label>
          </div>
        </div>
        <div class="field">
          <label>
            <span>Bria api_token</span>
            <input id="apiTokenInput" type="password" placeholder="Enter Bria api_token" autocomplete="off">
          </label>
        </div>
        <div class="field">
          <label>
            <span>OpenAI API key</span>
            <input id="openaiTokenInput" type="password" placeholder="Enter OpenAI API key" autocomplete="off">
          </label>
        </div>
      </div>
      <div class="modal__actions">
        <button type="button" class="secondary" data-settings-cancel>Cancel</button>
        <button type="button" class="primary" data-settings-save>Save</button>
      </div>
    </div>
  </div>

  <div class="modal" data-scene-modal>
    <div class="modal__dialog">
      <h3>Add scene</h3>
      <form id="sceneForm" class="scene-form">
        <div class="scene-form-grid">
          <label class="field">
            <span>Scene title</span>
            <input id="sceneTitle" type="text" placeholder="Enter scene title" autocomplete="off">
          </label>
          <label class="field">
            <span>Description</span>
            <textarea id="sceneDescription" rows="3" placeholder="Briefly describe the scene"></textarea>
          </label>
        </div>
        <div class="modal__actions">
          <button type="button" class="secondary" data-scene-cancel>Cancel</button>
          <button type="submit" class="primary" data-scene-save>Add scene</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
